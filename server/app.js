// ps:使用之前请先阅读README.md文件
//
/****************************定义和引入********************************/
// 引入模块
var http = require('http');
var express = require('express');
var app = express();
var bodyParser = require("body-parser");
var server = http.Server(app);
var host = 'http://localhost:';
var port = 9999; //设置本地转发服务端口
var Mock = require('mockjs')

/*************************以下为设置和启用*****************************/
// 设置node服务
app.set('port', port);
app.use(bodyParser.urlencoded({
  extended: false
}));
app.use(bodyParser.json());

// 启动服务
server.listen(app.get('port'), function() {
  console.log("服务已经启动，APIhost：" + host + app.get('port'));
});

/******************以下为此服务支持跨域请求********************/
app.all('*', function(req, res, next) {
  res.header('Access-Control-Allow-Origin', '*');
  res.header('Access-Control-Allow-Headers', 'Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild');
  res.header('Access-Control-Allow-Methods', 'PUT, POST, GET, DELETE, OPTIONS, PATCH');
  // res.set({
  //   'Content-Type': 'Content-Type:application/json; charset=UTF-8',
  // })
  if (req.method == 'OPTIONS') {
    res.send(200);
  } else {
    next();
  }
});


/******************以下是api部分***********************/

// 设置后端服务器url
var dbUrl = 'http://localhost:8383'; //这里写你的后端api地址


//登录
app.post('/login', function(req, res) {
  var username = req.body.username;
  var password = req.body.password;
  var data = Mock.mock({"timestamp":1483950325945,"status":401,"error":"Unauthorized","message":"Authentication Failed: Bad credentials","path":"/login"})
  if (username === 'egoadmin' && password === '616616'){
    res.status(200)
    res.send('');
  }else {
    res.send(JSON.stringify(data));
    res.status(401)
  }
  console.log('login')
});

// 登陆后获取users信息
app.get('/users/:name', function(req, res) {
  var username = req.params.name
  var data = Mock.mock({"userInfo":{"userId":1,"userName":"egoadmin","chineseName":"无敌超人","password":"$2a$10$91IGwt1azNAsPxO5trjaW.X1hwXxsfxQyHYnIDPr6hh/dVUqolhyq","email":"dengwu.wang@easygovm.com","mobile":"15309268871","regIp":"124.115.217.166","lastLoginTime":1483950440000,"lastLoginIp":"124.115.217.166","status":"A","gmtCreated":1483950745000,"gmtModified":1483950745000},"rules":["01","02","03","04","030104","05","030101","09","030103","030102","0402","0403","040302","0401","040301","040103","040102","040101","050104","050302","050303","050102","050103","050301","050304","090203","050101","090204","090201","090202","090205","090206","010202","010201","010204","010203","010205","030202","030201","0501","0105","0502","0103","010310","0301","0302","040202","0104","0101","010312","0102","010311","0903","040201","0901","0505","0902","0506","0503","0504","050203","050401","050204","050402","050201","050202","090101","090104","090302","090303","090102","090301","090103","010101","090304","090305","010103","010301","010102","010303","010501","010104","010302","010305","010304","010502","010307","010306","010309","010308"],"organizationStructures":[{"orgId":"01","orgName":"前海易购","upOrgId":"0","level":"1","status":"1","gmtCreated":1448094801000,"gmtModified":1453802627000}]})
  if (username === 'egoadmin'){
    res.send(JSON.stringify(data));
    res.status(200)
  }
  console.log('users')
});

// 提交修改密码
app.put('/users/editPwd', function(req, res) {
  var newPwd = req.query.newPwd
  var username = req.body.userName
  var password = req.body.password
  var data1 = Mock.mock({result: 1})
  var data2 = Mock.mock({result: -11})
  if (password === '616616'){
    res.send(JSON.stringify(data1));
  } else {
    res.send(JSON.stringify(data2));
  }
  console.log('newPwd')
});


app.get('/machineType', function(req, res) {
  var data = Mock.mock([{"machineTypeId":4,"typeName":"旧三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"ZJ","gmtCreated":1446106859000,"gmtModified":1463561310000},{"machineTypeId":5,"typeName":"老一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"EG","gmtCreated":1446106967000,"gmtModified":1463560823000},{"machineTypeId":6,"typeName":"旧一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"ZJ","gmtCreated":1446437223000,"gmtModified":1463561319000},{"machineTypeId":8,"typeName":"易购一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"NEG","gmtCreated":1451454875000,"gmtModified":1463560850000},{"machineTypeId":9,"typeName":"易购三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"NEG","gmtCreated":1457341045000,"gmtModified":1463560927000},{"machineTypeId":10,"typeName":"易触二号机","aisleRowNumber":21,"aisleColumnNumber":3,"screenSize":32,"enableTouch":"1","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"YC","gmtCreated":1472528990000,"gmtModified":1477548095000},{"machineTypeId":11,"typeName":"易购二号机","aisleRowNumber":24,"aisleColumnNumber":1,"screenSize":13,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"JY","gmtCreated":1474801049000,"gmtModified":1477636537000},{"machineTypeId":12,"typeName":"易购八号机","aisleRowNumber":4,"aisleColumnNumber":4,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"0","controlBoardType":"CHZH","gmtCreated":1482388467000,"gmtModified":1482389190000}])
  res.send(JSON.stringify(data))
  console.log('machineType')
});

app.get('/aisleDesc', function(req, res) {
  var data = Mock.mock([{"goodsAisleTemplateId":7,"templateName":"3-B-36个货道","machineTypeInfo":{"machineTypeId":4,"typeName":"旧三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"ZJ","gmtCreated":1446106859000,"gmtModified":1463561310000},"applySceneDesc":"3-B-36个货道测试模板","gmtCreated":1446107985000,"gmtModified":1446107985000},{"goodsAisleTemplateId":8,"templateName":"1-B-30","machineTypeInfo":{"machineTypeId":6,"typeName":"旧一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"ZJ","gmtCreated":1446437223000,"gmtModified":1463561319000},"applySceneDesc":"1-B-30个货道测试模板","gmtCreated":1446437508000,"gmtModified":1446439025000},{"goodsAisleTemplateId":9,"templateName":"1-A-30","machineTypeInfo":{"machineTypeId":5,"typeName":"老一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"EG","gmtCreated":1446106967000,"gmtModified":1463560823000},"applySceneDesc":"1-A-30测试易购","gmtCreated":1447156186000,"gmtModified":1447156186000},{"goodsAisleTemplateId":10,"templateName":"1-C-30","machineTypeInfo":{"machineTypeId":8,"typeName":"易购一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"NEG","gmtCreated":1451454875000,"gmtModified":1463560850000},"applySceneDesc":"新单片机测试","gmtCreated":1451454992000,"gmtModified":1451454992000},{"goodsAisleTemplateId":11,"templateName":"1-C-36","machineTypeInfo":{"machineTypeId":9,"typeName":"易购三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"NEG","gmtCreated":1457341045000,"gmtModified":1463560927000},"applySceneDesc":"太冷测试模板","gmtCreated":1457341179000,"gmtModified":1457341179000}])
  res.send(JSON.stringify(data))
  console.log('aisleDesc')
});

app.get('/aisleDesc/:id', function(req, res) {
  var data = Mock.mock({"goodsAisleTemplateId":7,"templateName":"3-B-36个货道","machineTypeInfo":{"machineTypeId":4,"typeName":"旧三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"ZJ","gmtCreated":1446106859000,"gmtModified":1463561310000},"applySceneDesc":"3-B-36个货道测试模板","gmtCreated":1446107985000,"gmtModified":1446107985000})
  res.send(JSON.stringify(data))
  console.log('aisleDescID')
})

app.get('/aisle',function(req, res) {
  if (req.query.templateId){
    var data = Mock.mock([{"id":53,"goodsAisleTemplateId":7,"aisleName":"A1","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641141000},{"id":59,"goodsAisleTemplateId":7,"aisleName":"A2","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641153000},{"id":65,"goodsAisleTemplateId":7,"aisleName":"A3","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641170000},{"id":71,"goodsAisleTemplateId":7,"aisleName":"A4","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641179000},{"id":77,"goodsAisleTemplateId":7,"aisleName":"A5","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641191000},{"id":83,"goodsAisleTemplateId":7,"aisleName":"A6","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641202000},{"id":54,"goodsAisleTemplateId":7,"aisleName":"B1","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641211000},{"id":60,"goodsAisleTemplateId":7,"aisleName":"B2","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":5,"gmtCreated":1446107985000,"gmtModified":1446641222000},{"id":66,"goodsAisleTemplateId":7,"aisleName":"B3","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641234000},{"id":72,"goodsAisleTemplateId":7,"aisleName":"B4","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446108248000},{"id":78,"goodsAisleTemplateId":7,"aisleName":"B5","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641240000},{"id":84,"goodsAisleTemplateId":7,"aisleName":"B6","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641244000},{"id":55,"goodsAisleTemplateId":7,"aisleName":"C1","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641252000},{"id":61,"goodsAisleTemplateId":7,"aisleName":"C2","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":5,"gmtCreated":1446107985000,"gmtModified":1446641255000},{"id":67,"goodsAisleTemplateId":7,"aisleName":"C3","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641264000},{"id":73,"goodsAisleTemplateId":7,"aisleName":"C4","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446108249000},{"id":79,"goodsAisleTemplateId":7,"aisleName":"C5","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641274000},{"id":85,"goodsAisleTemplateId":7,"aisleName":"C6","goodsSkuInfo":{"skuId":3,"skuSubject":"矿泉水1","skuPackageType":"恒大冰泉","skuSize":"瓶装500ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1446004295880A3恒大冰泉500ML.jpg","organizationId":"'01'","gmtCreated":1446004305000,"gmtModified":1484230760000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641284000},{"id":56,"goodsAisleTemplateId":7,"aisleName":"D1","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641311000},{"id":62,"goodsAisleTemplateId":7,"aisleName":"D2","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641318000},{"id":68,"goodsAisleTemplateId":7,"aisleName":"D3","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641326000},{"id":74,"goodsAisleTemplateId":7,"aisleName":"D4","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641333000},{"id":80,"goodsAisleTemplateId":7,"aisleName":"D5","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641340000},{"id":86,"goodsAisleTemplateId":7,"aisleName":"D6","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641347000},{"id":57,"goodsAisleTemplateId":7,"aisleName":"E1","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641354000},{"id":63,"goodsAisleTemplateId":7,"aisleName":"E2","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641369000},{"id":69,"goodsAisleTemplateId":7,"aisleName":"E3","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641376000},{"id":75,"goodsAisleTemplateId":7,"aisleName":"E4","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641383000},{"id":81,"goodsAisleTemplateId":7,"aisleName":"E5","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641390000},{"id":87,"goodsAisleTemplateId":7,"aisleName":"E6","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641396000},{"id":58,"goodsAisleTemplateId":7,"aisleName":"F1","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641403000},{"id":64,"goodsAisleTemplateId":7,"aisleName":"F2","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":6,"gmtCreated":1446107985000,"gmtModified":1446641409000},{"id":70,"goodsAisleTemplateId":7,"aisleName":"F3","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":88,"gmtCreated":1446107985000,"gmtModified":1446641415000},{"id":76,"goodsAisleTemplateId":7,"aisleName":"F4","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641423000},{"id":82,"goodsAisleTemplateId":7,"aisleName":"F5","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641430000},{"id":88,"goodsAisleTemplateId":7,"aisleName":"F6","goodsSkuInfo":{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000},"aisleGoodsPrice":1,"defaultGoodsStock":8,"gmtCreated":1446107985000,"gmtModified":1446641436000}])
    res.send(JSON.stringify(data))
  }
  console.log('aisle')
})

app.get('/goods/brand', function(req, res) {
  var data = Mock.mock(["鹰牌","维他","盒装","瓶装","特意浓","汇源","正宗","易购","恒大冰泉","宝矿力水特宝矿力水特","友芝友","光明畅优果粒"])
  res.send(JSON.stringify(data))
  console.log('goodsbrand')
})

app.get('/goods/subject', function (req, res) {
  if (req.query.skuBrand === '鹰牌') {
    var data = Mock.mock(["清湿茶"])
    res.send(JSON.stringify(data))
  } else if (req.query.skuBrand === '维他') {
    var data = Mock.mock(["原味豆奶","巧克力味豆奶"])
    res.send(JSON.stringify(data))
  }
  console.log('goodssubject')
})

app.get('/goods/size', function (req, res) {
  if (req.query.skuBrand === '鹰牌') {
    if (req.query.skuSubject === '清湿茶'){
      var data1 = Mock.mock([{"skuId":4,"skuSubject":"清湿茶","skuPackageType":"鹰牌","skuSize":"罐装310ml","skuWeight":500,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1450938662403清湿茶.jpg","organizationId":"'01'","gmtCreated":1446639724000,"gmtModified":1484230795000}])
      res.send(JSON.stringify(data1))
    }
  } else if (req.query.skuBrand === '维他') {
    if (req.query.skuSubject === '原味豆奶') {
      var data2 = Mock.mock([{"skuId":14,"skuSubject":"原味豆奶","skuPackageType":"维他","skuSize":"250ml","skuWeight":250,"skuOriginalPrice":1,"skuSellingPrice":50,"skuPicUrl":"http://store.easygovm.com/GP1451266214666维他奶原味.jpg","organizationId":"01","gmtCreated":1451266243000,"gmtModified":1483595019000}])
      res.send(JSON.stringify(data2))
    } else if (req.query.skuSubject === '巧克力味豆奶') {
      var data3 = Mock.mock([{"skuId":13,"skuSubject":"巧克力味豆奶","skuPackageType":"维他","skuSize":"250ml","skuWeight":null,"skuOriginalPrice":1,"skuSellingPrice":1,"skuPicUrl":"http://store.easygovm.com/GP1451266164665维他巧克力味.jpg","organizationId":"01","gmtCreated":1451266207000,"gmtModified":1451266290000}])
      res.send(JSON.stringify(data3))
    }
  }
  console.log('goodssize')
})

app.post('/machine/page', function (req, res) {
  if (req.body.pageNumber === 1) {
    var data = Mock.mock({"content":[{"machineId":1484645695278,"machineCode":"test_leke","machineName":"乐科","androidId":"ac8b79752fb25b00","machineTypeInfo":{"machineTypeId":9,"typeName":"易购三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"NEG","gmtCreated":1457341045000,"gmtModified":1463560927000},"organizationId":"019999999999999999999","organizationName":"未归属机器","machineAisleTemplateDescription":null,"providePayType":"6,7,5","offlineOrOnlineTime":1484648580000,"userId":null,"online":false,"gmtCreated":1484645695000,"gmtModified":1484648580000},{"machineId":1484475759368,"machineCode":"427","machineName":null,"androidId":"84c47c14a468d57d","machineTypeInfo":{"machineTypeId":8,"typeName":"易购一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"NEG","gmtCreated":1451454875000,"gmtModified":1463560850000},"organizationId":"019999999999999999999","organizationName":"未归属机器","machineAisleTemplateDescription":null,"providePayType":"6,7","offlineOrOnlineTime":1484477220000,"userId":null,"online":false,"gmtCreated":1484475759000,"gmtModified":1484477220000},{"machineId":1483694920152,"machineCode":"test_zwx","machineName":"朱工测试样机","androidId":"b0fa5b4e91771cb7","machineTypeInfo":{"machineTypeId":9,"typeName":"易购三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"NEG","gmtCreated":1457341045000,"gmtModified":1463560927000},"organizationId":"019999999999999999999","organizationName":"未归属机器","machineAisleTemplateDescription":null,"providePayType":"7,6,5","offlineOrOnlineTime":1486377781000,"userId":null,"online":false,"gmtCreated":1483694920000,"gmtModified":1486377780000},{"machineId":1483107157281,"machineCode":"413","machineName":"413#武汉友芝友测试样机","androidId":"5fdc69372ab5b4a4","machineTypeInfo":{"machineTypeId":8,"typeName":"易购一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"NEG","gmtCreated":1451454875000,"gmtModified":1463560850000},"organizationId":"0105","organizationName":"友芝友乳业","machineAisleTemplateDescription":null,"providePayType":"6,7,13,12,11","offlineOrOnlineTime":1484654340000,"userId":null,"online":false,"gmtCreated":1483107157000,"gmtModified":1484654340000},{"machineId":1482905697403,"machineCode":"GZ_CZ_TEST","machineName":"广州易购八号测试机","androidId":"a5980cf3633261e9","machineTypeInfo":{"machineTypeId":12,"typeName":"易购八号机","aisleRowNumber":4,"aisleColumnNumber":4,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"0","controlBoardType":"CHZH","gmtCreated":1482388467000,"gmtModified":1482389190000},"organizationId":"0102","organizationName":"光明乳业","machineAisleTemplateDescription":null,"providePayType":"8,7","offlineOrOnlineTime":1486196700000,"userId":null,"online":false,"gmtCreated":1482905697000,"gmtModified":1486196700000},{"machineId":1482493821821,"machineCode":"EGCS0700731","machineName":"大梅沙金马测试机","androidId":"68a3183a342efa0a","machineTypeInfo":{"machineTypeId":8,"typeName":"易购一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"NEG","gmtCreated":1451454875000,"gmtModified":1463560850000},"organizationId":"019999999999999999999","organizationName":"未归属机器","machineAisleTemplateDescription":null,"providePayType":"6,7,2,12,11","offlineOrOnlineTime":1484151000000,"userId":null,"online":false,"gmtCreated":1482493821000,"gmtModified":1484151000000},{"machineId":1482462990343,"machineCode":"DMS_CHZH_TEST","machineName":"大梅沙易购8号机","androidId":"eed9d19329f9ef95","machineTypeInfo":{"machineTypeId":12,"typeName":"易购八号机","aisleRowNumber":4,"aisleColumnNumber":4,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"0","controlBoardType":"CHZH","gmtCreated":1482388467000,"gmtModified":1482389190000},"organizationId":"0102","organizationName":"光明乳业","machineAisleTemplateDescription":null,"providePayType":"8,7","offlineOrOnlineTime":1486259820000,"userId":null,"online":false,"gmtCreated":1482462990000,"gmtModified":1486259820000},{"machineId":1480300760394,"machineCode":"DMS-TWTEST2","machineName":"大梅沙金雨2号机","androidId":"24bee26bbb20ad6b","machineTypeInfo":{"machineTypeId":11,"typeName":"易购二号机","aisleRowNumber":24,"aisleColumnNumber":1,"screenSize":13,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"JY","gmtCreated":1474801049000,"gmtModified":1477636537000},"organizationId":"019999999999999999999","organizationName":"未归属机器","machineAisleTemplateDescription":null,"providePayType":"6,7","offlineOrOnlineTime":1484298000000,"userId":null,"online":false,"gmtCreated":1480300760000,"gmtModified":1484298000000},{"machineId":1480062879775,"machineCode":"egfs0100411","machineName":"优客工场4楼1号机","androidId":"f8039897a483de51","machineTypeInfo":{"machineTypeId":8,"typeName":"易购一号机","aisleRowNumber":5,"aisleColumnNumber":6,"screenSize":32,"enableTouch":"0","haveSelectGoodsButton":"1","haveNumberKeyboard":"0","controlBoardType":"NEG","gmtCreated":1451454875000,"gmtModified":1463560850000},"organizationId":"0102","organizationName":"光明乳业","machineAisleTemplateDescription":null,"providePayType":"6,12,2,7","offlineOrOnlineTime":1486429860000,"userId":null,"online":false,"gmtCreated":1480062879000,"gmtModified":1486429860000},{"machineId":1480056368405,"machineCode":"egzs0300576","machineName":"优客工场4楼3号机","androidId":"6f0dcbe5910ae4db","machineTypeInfo":{"machineTypeId":9,"typeName":"易购三号机","aisleRowNumber":6,"aisleColumnNumber":6,"screenSize":7,"enableTouch":"0","haveSelectGoodsButton":"0","haveNumberKeyboard":"1","controlBoardType":"NEG","gmtCreated":1457341045000,"gmtModified":1463560927000},"organizationId":"0102","organizationName":"光明乳业","machineAisleTemplateDescription":null,"providePayType":"7,12,6,8","offlineOrOnlineTime":1486431600000,"userId":null,"online":true,"gmtCreated":1480056368000,"gmtModified":1486431600000}],"last":false,"totalPages":20,"totalElements":197,"size":10,"number":0,"sort":[{"direction":"DESC","property":"gmtCreated","ignoreCase":false,"nullHandling":"NATIVE","ascending":false}],"first":true,"numberOfElements":10})
    res.send(JSON.stringify(data))
  }
  console.log('machinePage1')
})



app.post('/advertise/page', function (req, res) {
  if (req.body.pageStart === 0) {
    var data = Mock.mock({"content":[{"advertisementId":34,"advertisementType":"1","advertisementName":"友芝友100s720p","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":25758981,"advertisementDownloadUrl":"http://store.easygovm.com/AV1484623665074","gmtCreated":1484623963000,"gmtModified":1484623963000},{"advertisementId":33,"advertisementType":"0","advertisementName":"友芝友-3","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":647721,"advertisementDownloadUrl":"http://store.easygovm.com/AP1484573667892","gmtCreated":1484573724000,"gmtModified":1484573724000},{"advertisementId":32,"advertisementType":"0","advertisementName":"友芝友-2","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":547803,"advertisementDownloadUrl":"http://store.easygovm.com/AP1484573637108","gmtCreated":1484573645000,"gmtModified":1484573645000},{"advertisementId":31,"advertisementType":"0","advertisementName":"友芝友-1","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":410116,"advertisementDownloadUrl":"http://store.easygovm.com/AP1484573418900","gmtCreated":1484573423000,"gmtModified":1484573423000},{"advertisementId":30,"advertisementType":"1","advertisementName":"cocacola","advertisementShowTime":null,"advertisementLevel":13,"advertisementSize":17696279,"advertisementDownloadUrl":"http://store.easygovm.com/V1463732715868Coke Zero Make It Possible  -  Commercial-HD.mp4","gmtCreated":1463732803000,"gmtModified":1463732803000},{"advertisementId":29,"advertisementType":"1","advertisementName":"畅优15s720p新","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":1909057,"advertisementDownloadUrl":"http://store.easygovm.com/V1461207856355光明畅优无添加篇15sec_batch.mp4","gmtCreated":1461207898000,"gmtModified":1461207898000},{"advertisementId":28,"advertisementType":"1","advertisementName":"畅优15s1080p","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":10687824,"advertisementDownloadUrl":"http://store.easygovm.com/V1461155482153V1458469467387光明畅优无添加篇15sec.mp4","gmtCreated":1461155607000,"gmtModified":1461155607000},{"advertisementId":27,"advertisementType":"1","advertisementName":"畅优30s720p","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":15359370,"advertisementDownloadUrl":"http://store.easygovm.com/V1461147447120光明30s720p.mp4","gmtCreated":1461147690000,"gmtModified":1461147690000},{"advertisementId":26,"advertisementType":"1","advertisementName":"畅优15s720p","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":7429693,"advertisementDownloadUrl":"http://store.easygovm.com/V1461146974704光明15s720p.mp4","gmtCreated":1461147005000,"gmtModified":1461147005000},{"advertisementId":25,"advertisementType":"0","advertisementName":"微信立减竖","advertisementShowTime":null,"advertisementLevel":12,"advertisementSize":409313,"advertisementDownloadUrl":"http://store.easygovm.com/V1460634024345售货机立减916.png","gmtCreated":1460634031000,"gmtModified":1460634031000}],"totalPages":3,"last":false,"totalElements":29,"size":10,"number":0,"numberOfElements":10,"sort":[{"direction":"DESC","property":"gmtCreated","ignoreCase":false,"nullHandling":"NATIVE","ascending":false}],"first":true})
    res.send(JSON.stringify(data))
  }
  console.log('advertisePage1')
})
